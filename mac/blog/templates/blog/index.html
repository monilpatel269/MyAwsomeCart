{%extends 'blog/basic.html'%}
{% block title %}Home page | Blogs {% endblock %}
{%block body%}
<!-- <div class="container mt-3">
    <div class="row my-2">
        {% for item in myposts %}
        <div class="col-md-6">
            <div class="row no-gutters border rounded overflow-hidden flex-md-row mb-4 shadow-sm h-md-250 position-relative">
                <div class="col p-4 d-flex flex-column position-static">
                    <strong class="d-inline-block mb-2 text-primary">
                      <a href="/blog/blogpost/{{item.post_id}}">  {{item.title}}</a>
                    </strong>
                    
                    <div class="mb-1 text-muted"></div>
                    <p class="card-text mb-auto">{{item.author}}</p>
                    <p class="card-text mb-auto">{{item.content|safe}}</p>
                    <a href="/blog/blogpost/{{item.post_id}}" class="stretched-link">Continue reading</a>
                </div>
                <div class="col-auto d-none d-lg-block">
                    <img src="/media/{{item.thumbnail}}" class="bd-placeholder-img" width="200" height="170" aria-label="Placeholder: Thumbnail">
                    <title>Placeholder</title>
                </div>
            </div>
        </div>
        {% if forloop.counter|divisibleby:2%}
    </div>
    <div class="row my-2">
        {%endif%}
        {%endfor%}</div>
</div> -->

<div class="container my-3">
    <h2>Coding Articles by Monil</h2>
    {% for item in myposts  %}
    <div class="row no-gutters border rounded overflow-hidden flex-md-row mb-4 shadow-sm h-md-250 my-4 position-relative">
        <div class="col p-4 d-flex flex-column position-static">
            <strong class="d-inline-block mb-2 text-primary">Article  by {{item.author}} ({{item.views}} views)</strong>
            <h3 class="mb-0"><a class="text-dark" href="/blog/blogpost/{{item.post_id}}">{{item.title}} </a> </h3>
            <div class="mb-1 text-muted">{{item.pub_date}}</div>
            <p class="card-text mb-auto"><div class="preview"> {{item.content|safe| truncatechars:500}}</div></p>
            <div class="my-2">
            	<a href="/blog/blogpost/{{item.post_id}}" role="button" class="btn btn-primary">Continue reading</a>
            </div>
            
        </div>
        <!-- <div class="col-auto d-none d-lg-block">
            <svg class="bd-placeholder-img" width="200" height="250" xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="xMidYMid slice" focusable="false" role="img" aria-label="Placeholder: Thumbnail">
                <title>Placeholder</title>
                <rect width="100%" height="100%" fill="#55595c"></rect><text x="50%" y="50%" fill="#eceeef" dy=".3em">Thumbnail</text>
            </svg>
        </div> -->
        </div>

        {% endfor %}
    </div>
{%endblock%}

{%block js%} 
<script>
    let previews=document.getElementsByClassName('preview'); 
    Array.from(previews).forEach((element)=>{
        element.innerHTML = element.innerText;
    });
</script>
{%endblock%}